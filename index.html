<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
<title>Contador de S√©ries</title>
<style>
  :root{
    --indigo:#4f46e5;--blue:#3b82f6;--orange:#fb923c;--rose:#fb7185;--slate:#1f2937;--muted:#6b7280;
  }
  body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',Arial,sans-serif;background:linear-gradient(135deg,#eef2ff,#fff7ed);display:flex;align-items:center;justify-content:center;min-height:100vh;margin:0;padding:10px}
  .card{background:#fff;border-radius:16px;box-shadow:0 10px 30px rgba(31,41,55,.12);padding:16px;width:100%;max-width:420px;text-align:center}
  h1{margin:0 0 2px;font-size:20px;color:var(--slate)}
  .author{font-size:12px;color:var(--muted);margin-bottom:10px}

  .timer-section{margin-bottom:10px;padding:10px;border-radius:12px;border:1px solid rgba(0,0,0,.06)}
  .timer-total{background:linear-gradient(135deg,#eef2ff,#eff6ff)}
  .timer-rest{background:linear-gradient(135deg,#fff7ed,#ffe4e6)}
  .label{font-size:12px;color:#374151;font-weight:700;letter-spacing:.02em}
  .timer-display{font-size:30px;font-weight:800;margin:6px 0 8px;color:var(--slate);font-variant-numeric:tabular-nums}
  .timer-total .timer-display{color:var(--indigo)}
  .timer-rest .timer-display{color:var(--orange)}

  .btn-row{display:flex;gap:8px;justify-content:center}
  button{border:none;border-radius:10px;padding:9px 14px;cursor:pointer;font-weight:700;font-size:14px;transition:transform .06s ease, box-shadow .2s ease}
  button:active{transform:translateY(1px)}
  .btn-primary{color:#fff;background:linear-gradient(135deg,var(--blue),var(--indigo));box-shadow:0 6px 14px rgba(59,130,246,.25)}
  .btn-primary.pause{background:linear-gradient(135deg,#ef4444,#dc2626)}
  .btn-ghost{background:#fff;border:2px solid rgba(0,0,0,.08);color:#374151}

  .stats{display:flex;justify-content:space-around;margin:8px 0 10px}
  .stat-box{font-size:13px;font-weight:800;color:#374151;background:#f8fafc;border-radius:10px;padding:8px 10px}

  .reps-control{display:flex;justify-content:center;align-items:center;margin:8px 0 10px;gap:10px}
  .reps-display{font-size:26px;font-weight:900;color:var(--indigo);width:64px}
  .btn-round{width:38px;height:38px;border-radius:10px;border:2px solid #e5e7eb;background:#fff;font-size:18px;color:#374151;cursor:pointer}

  #history{display:none;text-align:left;margin-top:10px;font-size:14px;color:#374151;background:#f8fafc;border-radius:10px;padding:10px;max-height:160px;overflow:auto}
  #btnHistory,#btnHideHistory{width:100%;background:var(--indigo);color:#fff;border:none;padding:10px;border-radius:10px;font-weight:700;margin-top:6px}
  #btnHideHistory{background:#334155}

  .btn{background:var(--blue);color:#fff}
  .btn:hover{filter:brightness(0.95)}

  /* espa√ßo respira, ainda cabe 1 tela na maioria dos iPhones */
</style>
</head>
<body>
<div class="card">
  <h1>Contador de S√©ries</h1>
  <div class="author">Desenvolvido por: Renato Neves</div>

  <!-- Tempo Total -->
  <div class="timer-section timer-total">
    <div class="label">‚è±Ô∏è Tempo Total</div>
    <div class="timer-display" id="totalTime">00:00</div>
    <div class="btn-row">
      <button class="btn-primary" id="btnToggleTotal">‚ñ∂ Iniciar</button>
      <button class="btn-ghost" id="btnResetTotal">‚Üª Reset</button>
    </div>
  </div>

  <!-- Descanso -->
  <div class="timer-section timer-rest">
    <div class="label">üßò Descanso</div>
    <div class="timer-display" id="restTime">00:00</div>
    <div class="btn-row">
      <button class="btn-primary" id="btnToggleRest">‚ñ∂ Iniciar</button>
      <button class="btn-ghost" id="btnResetRest">‚Üª Reset</button>
    </div>
  </div>

  <div class="stats">
    <div class="stat-box">S√©ries: <span id="totalSeries">0</span></div>
    <div class="stat-box">Repeti√ß√µes: <span id="totalReps">0</span></div>
  </div>

  <div class="reps-control">
    <button class="btn-round" id="btnDecrease">‚àí</button>
    <div class="reps-display" id="currentReps">0</div>
    <button class="btn-round" id="btnIncrease">+</button>
  </div>

  <button class="btn" id="btnAddSerie">+ Adicionar S√©rie</button>
  <button id="btnHistory">üìú Hist√≥rico de S√©ries</button>
  <div id="history"></div>
  <button id="btnHideHistory" style="display:none;">‚ùå Ocultar Hist√≥rico</button>
  <button class="btn" id="btnResetAll">‚Üª Resetar Tudo</button>
</div>

<script>
let series=[],currentReps=0,restTime=0,totalTime=0,isRestRunning=false,isTotalRunning=false;
const els={
  totalSeries:document.getElementById('totalSeries'),
  totalReps:document.getElementById('totalReps'),
  currentReps:document.getElementById('currentReps'),
  restTime:document.getElementById('restTime'),
  totalTime:document.getElementById('totalTime'),
  btnIncrease:document.getElementById('btnIncrease'),
  btnDecrease:document.getElementById('btnDecrease'),
  btnAddSerie:document.getElementById('btnAddSerie'),
  btnResetAll:document.getElementById('btnResetAll'),
  btnHistory:document.getElementById('btnHistory'),
  btnHideHistory:document.getElementById('btnHideHistory'),
  history:document.getElementById('history'),
  btnToggleTotal:document.getElementById('btnToggleTotal'),
  btnResetTotal:document.getElementById('btnResetTotal'),
  btnToggleRest:document.getElementById('btnToggleRest'),
  btnResetRest:document.getElementById('btnResetRest'),
};

function fmt(sec){const m=Math.floor(sec/60),s=sec%60;return `${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;}
function updateUI(){
  els.currentReps.textContent=currentReps;
  els.totalSeries.textContent=series.length;
  els.totalReps.textContent=series.reduce((a,b)=>a+b.reps,0);
  els.totalTime.textContent=fmt(totalTime);
  els.restTime.textContent=fmt(restTime);

  // bot√µes play/pause
  els.btnToggleTotal.textContent = isTotalRunning ? '‚è∏ Pausar' : '‚ñ∂ Iniciar';
  els.btnToggleTotal.classList.toggle('pause', isTotalRunning);
  els.btnToggleRest.textContent  = isRestRunning  ? '‚è∏ Pausar' : '‚ñ∂ Iniciar';
  els.btnToggleRest.classList.toggle('pause', isRestRunning);
}

function renderHistory(){
  if(series.length===0){els.history.textContent='Nenhuma s√©rie adicionada.';return;}
  els.history.innerHTML=series.map((s,i)=>`${i+1}¬™ s√©rie: <b>${s.reps}</b> repeti√ß√µes`).join('<br>');
}

function attach(){
  els.btnIncrease.onclick=()=>{currentReps++;updateUI()};
  els.btnDecrease.onclick=()=>{if(currentReps>0)currentReps--;updateUI()};
  els.btnAddSerie.onclick=()=>{
    if(currentReps>0){
      series.push({id:Date.now(),reps:currentReps});
      currentReps=0; // zera para pr√≥xima s√©rie
      // ao adicionar s√©rie, inicia descanso automaticamente
      isRestRunning=true; // liga descanso
      updateUI();
    }
  };
  els.btnResetAll.onclick=()=>{
    if(confirm('Resetar tudo?')){
      series=[];currentReps=0;restTime=0;totalTime=0;isRestRunning=false;isTotalRunning=false;
      els.history.style.display='none'; els.btnHideHistory.style.display='none'; els.btnHistory.style.display='block';
      updateUI();
    }
  };
  els.btnHistory.onclick=()=>{renderHistory();els.history.style.display='block';els.btnHideHistory.style.display='block';els.btnHistory.style.display='none'};
  els.btnHideHistory.onclick=()=>{els.history.style.display='none';els.btnHideHistory.style.display='none';els.btnHistory.style.display='block'};

  // timers
  els.btnToggleTotal.onclick=()=>{isTotalRunning=!isTotalRunning;updateUI()};
  els.btnResetTotal.onclick =()=>{totalTime=0;isTotalRunning=false;updateUI()};
  els.btnToggleRest.onclick =()=>{isRestRunning=!isRestRunning;updateUI()};
  els.btnResetRest.onclick  =()=>{restTime=0;isRestRunning=false;updateUI()};
}

function tick(){
  if(isTotalRunning) totalTime++;
  if(isRestRunning)  restTime++;
  updateUI();
}

attach();
updateUI();
setInterval(tick,1000);
</script>
</body>
</html>
