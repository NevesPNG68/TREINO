<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
<title>Contador de S√©ries</title>
<style>
  :root{
    --indigo:#4f46e5;--blue:#3b82f6;--orange:#fb923c;--rose:#fb7185;--slate:#1f2937;--muted:#6b7280;
  }
  body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',Arial,sans-serif;background:linear-gradient(135deg,#eef2ff,#fff7ed);display:flex;align-items:center;justify-content:center;min-height:100vh;margin:0;padding:10px}
  .card{background:#fff;border-radius:16px;box-shadow:0 10px 30px rgba(31,41,55,.12);padding:16px;width:100%;max-width:420px;text-align:center}
  h1{margin:0 0 2px;font-size:24px;color:var(--slate)}
  .author{font-size:14px;color:var(--muted);margin-bottom:14px}
  .timer-section{margin-bottom:12px;padding:12px;border-radius:12px;border:1px solid rgba(0,0,0,.06)}
  .timer-total{background:linear-gradient(135deg,#eef2ff,#eff6ff)}
  .timer-rest{background:linear-gradient(135deg,#fff7ed,#ffe4e6)}
  .label{font-size:16px;color:#374151;font-weight:700;letter-spacing:.02em}
  .timer-display{font-size:34px;font-weight:800;margin:10px 0 12px;color:var(--slate);font-variant-numeric:tabular-nums}
  .timer-total .timer-display{color:var(--indigo)}
  .timer-rest .timer-display{color:var(--orange)}
  .btn-row{display:flex;gap:10px;justify-content:center}
  button{border:none;border-radius:10px;padding:10px 16px;cursor:pointer;font-weight:700;font-size:16px;transition:transform .06s ease, box-shadow .2s ease}
  button:active{transform:translateY(1px)}
  .btn-primary{color:#fff;background:linear-gradient(135deg,var(--blue),var(--indigo));box-shadow:0 6px 14px rgba(59,130,246,.25)}
  .btn-primary.pause{background:linear-gradient(135deg,#ef4444,#dc2626)}
  .btn-ghost{background:#fff;border:2px solid rgba(0,0,0,.08);color:#374151}
  .stats{display:flex;justify-content:space-around;margin:14px 0 14px}
  .stat-box{font-size:34px;font-weight:900;color:var(--indigo);background:#f8fafc;border-radius:10px;padding:12px 14px}
  .stat-box span{font-size:34px;color:var(--slate)}
  .reps-control{display:flex;justify-content:center;align-items:center;margin:12px 0 14px;gap:16px}
  .reps-display{font-size:34px;font-weight:900;color:var(--indigo);width:80px}
  .btn-round{width:46px;height:46px;border-radius:10px;border:2px solid #e5e7eb;background:#fff;font-size:24px;color:#374151;cursor:pointer;display:flex;align-items:center;justify-content:center;-webkit-tap-highlight-color:transparent;touch-action:manipulation}
  #history{display:none;text-align:left;margin-top:14px;font-size:34px;color:#1f2937;background:#f8fafc;border-radius:10px;padding:16px;max-height:220px;overflow:auto;line-height:1.6;font-weight:700}
  #btnHistory,#btnHideHistory{width:100%;background:var(--indigo);color:#fff;border:none;padding:14px;border-radius:10px;font-weight:700;margin-top:10px;font-size:16px}
  #btnHideHistory{background:#334155}
  .btn{background:var(--blue);color:#fff;font-size:16px}
  .btn:hover{filter:brightness(0.95)}
</style>
</head>
<body>
<div class="card">
  <h1>Contador de S√©ries</h1>
  <div class="author">Desenvolvido por: Renato Neves</div>
  <div class="timer-section timer-total">
    <div class="label">‚è±Ô∏è Tempo Total</div>
    <div class="timer-display" id="totalTime">00:00</div>
    <div class="btn-row">
      <button class="btn-primary" id="btnToggleTotal">‚ñ∂ Iniciar</button>
      <button class="btn-ghost" id="btnResetTotal">‚Üª Reset</button>
    </div>
  </div>
  <div class="timer-section timer-rest">
    <div class="label">üßò Descanso</div>
    <div class="timer-display" id="restTime">00:00</div>
    <div class="btn-row">
      <button class="btn-primary" id="btnToggleRest">‚ñ∂ Iniciar</button>
      <button class="btn-ghost" id="btnResetRest">‚Üª Reset</button>
    </div>
  </div>
  <div class="stats">
    <div class="stat-box">S√©ries: <span id="totalSeries">0</span></div>
    <div class="stat-box">Repeti√ß√µes: <span id="totalReps">0</span></div>
  </div>
  <div class="reps-control">
    <button class="btn-round" id="btnDecrease" aria-label="Diminuir repeti√ß√µes" title="Diminuir">‚óÄ</button>
    <div class="reps-display" id="currentReps">0</div>
    <button class="btn-round" id="btnIncrease" aria-label="Aumentar repeti√ß√µes" title="Aumentar">‚ñ∂</button>
  </div>
  <button class="btn" id="btnAddSerie">+ Adicionar S√©rie</button>
  <button id="btnHistory">üìú Hist√≥rico de S√©ries</button>
  <div id="history"></div>
  <button id="btnHideHistory" style="display:none;">‚ùå Ocultar Hist√≥rico</button>
  <button class="btn" id="btnResetAll" type="button" data-label-default="‚Üª Resetar Tudo">‚Üª Resetar Tudo</button>
</div>
<script>
['gesturestart','gesturechange','gestureend'].forEach(evt=>document.addEventListener(evt,e=>e.preventDefault(),{passive:false}));
document.addEventListener('wheel',e=>{if(e.ctrlKey)e.preventDefault()},{passive:false});
document.addEventListener('keydown',e=>{if((e.ctrlKey||e.metaKey)&&['+','-','='].includes(e.key))e.preventDefault()},{passive:false});

let series=[],currentReps=0,restTime=0,totalTime=0,isRestRunning=false,isTotalRunning=false;
const els={totalSeries:document.getElementById('totalSeries'),totalReps:document.getElementById('totalReps'),currentReps:document.getElementById('currentReps'),restTime:document.getElementById('restTime'),totalTime:document.getElementById('totalTime'),btnIncrease:document.getElementById('btnIncrease'),btnDecrease:document.getElementById('btnDecrease'),btnAddSerie:document.getElementById('btnAddSerie'),btnResetAll:document.getElementById('btnResetAll'),btnHistory:document.getElementById('btnHistory'),btnHideHistory:document.getElementById('btnHideHistory'),history:document.getElementById('history'),btnToggleTotal:document.getElementById('btnToggleTotal'),btnResetTotal:document.getElementById('btnResetTotal'),btnToggleRest:document.getElementById('btnToggleRest'),btnResetRest:document.getElementById('btnResetRest')};

function fmt(sec){const m=Math.floor(sec/60),s=sec%60;return `${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;}
function updateUI(){els.currentReps.textContent=currentReps;els.totalSeries.textContent=series.length;els.totalReps.textContent=series.reduce((a,b)=>a+b.reps,0);els.totalTime.textContent=fmt(totalTime);els.restTime.textContent=fmt(restTime);els.btnToggleTotal.textContent=isTotalRunning?'‚è∏ Pausar':'‚ñ∂ Iniciar';els.btnToggleTotal.classList.toggle('pause',isTotalRunning);els.btnToggleRest.textContent=isRestRunning?'‚è∏ Pausar':'‚ñ∂ Iniciar';els.btnToggleRest.classList.toggle('pause',isRestRunning);}
function renderHistory(){if(series.length===0){els.history.textContent='Nenhuma s√©rie adicionada.';return;}els.history.innerHTML=series.map((s,i)=>`${i+1}¬™ s√©rie: <b>${s.reps}</b> repeti√ß√µes`).join('<br>');}
function resetAll(){series=[];currentReps=0;restTime=0;totalTime=0;isRestRunning=false;isTotalRunning=false;if(els.history){els.history.innerHTML='';els.history.style.display='none';}if(els.btnHideHistory){els.btnHideHistory.style.display='none';}if(els.btnHistory){els.btnHistory.style.display='block';}updateUI();}
function attach(){els.btnIncrease.onclick=()=>{currentReps++;updateUI();};els.btnDecrease.onclick=()=>{if(currentReps>0)currentReps--;updateUI();};els.btnAddSerie.onclick =()=>{if(currentReps>0){series.push({id:Date.now(),reps:currentReps});currentReps=0;isRestRunning=true;updateUI();}};let __resetArmed=false,__resetTimer=null;els.btnResetAll.addEventListener('click',(e)=>{e.preventDefault();e.stopPropagation();if(!__resetArmed){__resetArmed=true;const prev=els.btnResetAll.getAttribute('data-label-default')||'‚Üª Resetar Tudo';els.btnResetAll.textContent='Toque novamente para confirmar';clearTimeout(__resetTimer);__resetTimer=setTimeout(()=>{__resetArmed=false;els.btnResetAll.textContent=prev;},2500);return;}clearTimeout(__resetTimer);__resetArmed=false;resetAll();els.btnResetAll.textContent=els.btnResetAll.getAttribute('data-label-default')||'‚Üª Resetar Tudo';});els.btnHistory.onclick=()=>{renderHistory();els.history.style.display='block';els.btnHideHistory.style.display='block';els.btnHistory.style.display='none';};els.btnHideHistory.onclick=()=>{els.history.style.display='none';els.btnHideHistory.style.display='none';els.btnHistory.style.display='block';};els.btnToggleTotal.onclick=()=>{isTotalRunning=!isTotalRunning;updateUI();};els.btnResetTotal.onclick =()=>{totalTime=0;isTotalRunning=false;updateUI();};els.btnToggleRest.onclick =()=>{isRestRunning=!isRestRunning;updateUI();};els.btnResetRest.onclick  =()=>{restTime=0;isRestRunning=false;updateUI();};}
function tick(){if(isTotalRunning)totalTime++;if(isRestRunning)restTime++;updateUI();}
attach();updateUI();setInterval(tick,1000);
</script>
</body>
</html>
